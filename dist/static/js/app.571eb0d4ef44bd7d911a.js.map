{"version":3,"sources":["webpack:///./src/App.vue?806c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/views/test.vue","webpack:///./src/views/test.vue?afe3","webpack:///./src/views/test.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","test","data","strData","allData","allDataStr","restData","pointsList","x","y","v","dialogVisible","doingIndex","circleMarkers","circlePoints","r","created","mounted","initAMap","handleFileChange","unmounted","map","destroy","watch","handler","newValue","oldValue","pasterMap","compare","deep","drawCircle","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","that","wrap","_context","prev","next","dist_default","load","key","version","plugins","then","AMap","roadNet","TileLayer","RoadNet","satellite","Satellite","Map","viewMode","zoom","center","layers","wms","WMS","url","blend","tileSize","params","LAYERS","VERSION","add","on","e","lnglat","getLng","getLat","catch","console","log","stop","remove","LngLat","radius","Circle","borderWeight","strokeColor","strokeOpacity","strokeWeight","fillOpacity","strokeStyle","strokeDasharray","fillColor","zIndex","setFitView","_this2","p1","forEach","item","p2","GeometryUtil","distance","filter","split","some","changeAllDataStr","document","getElementById","addEventListener","reader","FileReader","onload","result","replaceAll","arr","join","xyData","readAsText","files","handleAdd","push","handleEdit","row","index","handleDel","val","splice","_this3","circleMarker","centers","CircleMarker","cursor","exportData","_this4","length","str","Blob","type","saveAs","views_test","_vm","staticClass","_v","inline","label","model","value","callback","$$v","expression","_s","staticStyle","display","margin-bottom","size","click","$event","margin-top","width","prop","scopedSlots","_u","fn","scope","$index","rows","change","title","visible","update:visible","close","$set","src_views_test","test_normalizeComponent","Vue","use","Router","router","routes","path","component","ElementUI","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.571eb0d4ef44bd7d911a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ccfe422\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ccfe422\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ccfe422\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <div class=\"main\">\r\n    <div class=\"left\">\r\n      <div id=\"container\"></div>\r\n      <div>\r\n        <el-form inline>\r\n          <el-form-item label=\"当前定位经度\">\r\n            <el-input v-model=\"x\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"当前定位纬度\">\r\n            <el-input v-model=\"y\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"当前定位半径\">\r\n            <el-input v-model=\"r\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span>剩余可用频率：</span>\r\n        <span>{{ restData.length?restData.join(','):'-' }}</span>\r\n        \r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"topBtn\">\r\n        <input\r\n          id=\"file-input\"\r\n          type=\"file\"\r\n          style=\"display: block; margin-bottom: 10px\"\r\n        />\r\n        \r\n        <el-button size=\"mini\" @click=\"handleAdd()\">添加点位</el-button>\r\n        <el-button style=\"margin-top:10px\" size=\"mini\" @click=\"exportData()\"\r\n              >导出</el-button\r\n            >\r\n      </div>\r\n      <el-table :data=\"pointsList\" style=\"width: 100%; margin-top: 60px\">\r\n        <el-table-column type=\"index\"> </el-table-column>\r\n        <el-table-column prop=\"x\" label=\"经度\" width=\"180\"> </el-table-column>\r\n        <el-table-column prop=\"y\" label=\"维度\" width=\"180\"> </el-table-column>\r\n        <el-table-column prop=\"v\" label=\"频率\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.v ? scope.row.v : \"-\" }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.row, scope.$index)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button size=\"mini\" @click=\"handleDel(scope.row, scope.$index)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-form>\r\n        <el-form-item label=\"全部频率\">\r\n          <el-input\r\n            v-model=\"allDataStr\"\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            @change=\"changeAllDataStr\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-dialog\r\n      title=\"修改点位\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"30%\"\r\n      @close=\"pasterMap\"\r\n    >\r\n      <el-form>\r\n        <el-form-item label=\"经度\">\r\n          <el-input v-model=\"pointsList[doingIndex].x\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"纬度\">\r\n          <el-input v-model=\"pointsList[doingIndex].y\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"频率\">\r\n          <el-input v-model=\"pointsList[doingIndex].v\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AMapLoader from \"@amap/amap-jsapi-loader\";\r\n\r\nexport default {\r\n  name: \"map-view\",\r\n  data() {\r\n    return {\r\n      strData: \"\", //未处理参数\r\n      allData: [], //全部频率\r\n      allDataStr: \"\",\r\n      restData: [], //剩余频率\r\n      pointsList: [{ x: \"116.3912757\", y: \"39.906217\", v: \"\" }], //全部点位\r\n      dialogVisible: false,\r\n      doingIndex: 0,\r\n      circleMarkers: [], //点位图像数组\r\n      circlePoints: \"\", //圆圈对象\r\n      x:116.433322,\r\n      y:39.900255,\r\n      r:50000,\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.initAMap();\r\n    this.handleFileChange();\r\n  },\r\n  unmounted() {\r\n    this.map.destroy();\r\n  },\r\n  watch: {\r\n    allData: {\r\n      handler(newValue, oldValue) {\r\n        this.pasterMap();\r\n        this.compare()\r\n      },\r\n      deep: true,\r\n    },\r\n    x(){\r\n      this.drawCircle()\r\n    },\r\n    y(){\r\n      this.drawCircle()\r\n    },\r\n    r(){\r\n      this.drawCircle()\r\n    }\r\n  },\r\n  methods: {\r\n    async initAMap() {\r\n      let that = this\r\n      await AMapLoader.load({\r\n        key: \"7e1b85237d72d57b3ec1d649ffa3f648\", // 申请好的Web端开发者Key，首次调用 load 时必填\r\n        version: \"2.0\", // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\r\n        plugins: [\"AMap.Scale\"], //需要使用的的插件列表，如比例尺'AMap.Scale'，支持添加多个如：['...','...']\r\n      })\r\n        .then((AMap) => {\r\n          \r\n          var roadNet = new AMap.TileLayer.RoadNet();\r\n          var satellite = new AMap.TileLayer.Satellite();\r\n          this.map = new AMap.Map(\"container\", {\r\n            // 设置地图容器id\r\n            viewMode: \"3D\", // 是否为3D地图模式\r\n            zoom: 11, // 初始化地图级别\r\n            center: [116.397428, 39.90923], // 初始化地图中心点位置\r\n            layers: [satellite, roadNet],\r\n          });\r\n          var wms = new AMap.TileLayer.WMS({\r\n            url: \"https://ahocevar.com/geoserver/wms\", //WMS 服务的 url 地址\r\n            blend: false, //地图级别切换时，不同级别的图片是否进行混合\r\n            tileSize: 512, //加载 WMS 图层服务时，图片的分片大小\r\n            params: {\r\n              LAYERS: \"topp:states\",\r\n              VERSION: \"1.3.0\",\r\n            }, //OGC 标准的 WMS 地图服务的 GetMap 接口的参数\r\n          });\r\n          this.map.add(wms);\r\n          this.map.on('click', function(e) {\r\n            that.x=e.lnglat.getLng()\r\n            that.y=e.lnglat.getLat()\r\n            that.drawCircle()\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    drawCircle() {\r\n      this.map.remove(this.circlePoints)\r\n      //设置圆形位置\r\n      var center = new AMap.LngLat(this.x?this.x:116.397428, this.y?this.y:39.90923);\r\n      //设置圆的半径大小\r\n      var radius = this.r;\r\n      this.circlePoints = new AMap.Circle({\r\n        center: center, //圆心\r\n        radius: radius, //半径\r\n        borderWeight: 0, //描边的宽度\r\n        strokeColor: \"#FF33FF\", //轮廓线颜色\r\n        strokeOpacity: 1, //轮廓线透明度\r\n        strokeWeight: 0, //轮廓线宽度\r\n        fillOpacity: 0.4, //圆形填充透明度\r\n        strokeStyle: \"clip\", //轮廓线样式\r\n        strokeDasharray: [10, 10],\r\n        fillColor: \"#1791fc\", //圆形填充颜色\r\n        zIndex: 50, //圆形的叠加顺序\r\n      });\r\n      this.map.add(this.circlePoints);\r\n      this.map.setFitView([this.circlePoints]);\r\n      this.compare()\r\n    },\r\n    // 计算剩余频率\r\n    compare(){\r\n      this.restData = this.allData\r\n      let p1 = [this.x,this.y]\r\n      this.pointsList.forEach(item=>{\r\n        let p2 = [item.x,item.y]\r\n        let meter = AMap.GeometryUtil.distance(p1,p2)\r\n        if(meter<this.r){\r\n          this.restData = this.restData.filter(data=>{\r\n            let vs = item.v.split(',')\r\n            return !vs.some(v=>v==data)\r\n            // return data!=item.v\r\n          })\r\n          console.log(this.restData);\r\n        }\r\n      })\r\n    },\r\n    // 全部频率更新\r\n    changeAllDataStr(){\r\n      this.allData = this.allDataStr.split(',').filter(item=>item)\r\n    },\r\n    handleFileChange() {\r\n      let that = this;\r\n      document\r\n        .getElementById(\"file-input\")\r\n        .addEventListener(\"change\", function q() {\r\n          const reader = new FileReader();\r\n          reader.onload = function fileReadeComplete() {\r\n            that.strData = reader.result.replaceAll(\"\\r\\n\", \"\");\r\n            that.strData = that.strData.replaceAll(\" \", \"&\");\r\n            console.log(that.strData);\r\n            let arr = that.strData.split(\"/\");\r\n            that.allData = arr[1].split(\"&\");\r\n            that.allData = that.allData.filter((item) => {\r\n              return item;\r\n            });\r\n            that.allDataStr = that.allData.join(\",\");\r\n            that.restData = that.allData;\r\n            that.pointsList = arr[0].split(\",\").map((item) => {\r\n              let data = item.split(\":\");\r\n              let xyData = data[0].split(\"&\");\r\n              return {\r\n                x: xyData[0],\r\n                y: xyData[1],\r\n                v: data[1],\r\n              };\r\n            });\r\n            that.pointsList.forEach((item) => {\r\n              item.v = item.v ? item.v.replaceAll(\"&\", \",\") : \"-\";\r\n              // that.restData.\r\n            });\r\n          };\r\n          reader.readAsText(this.files[0]);\r\n        });\r\n    },\r\n    //添加点位\r\n    handleAdd() {\r\n      this.pointsList.push({ x: \"116.3912757\", y: \"39.906217\", v: \"\" });\r\n      console.log(this.pointsList);\r\n      this.pasterMap();\r\n      this.drawCircle()\r\n      this.compare()\r\n    },\r\n    handleEdit(row, index) {\r\n      this.dialogVisible = true;\r\n      this.doingIndex = index;\r\n      this.drawCircle()\r\n      this.compare()\r\n    },\r\n    handleDel(val, index) {\r\n      this.pointsList.splice(index, 1);\r\n      this.pasterMap();\r\n      this.drawCircle()\r\n      this.compare()\r\n    },\r\n    pasterMap() {\r\n      this.circleMarkers.forEach((circleMarker) => {\r\n        this.map.remove(circleMarker);\r\n      });\r\n\r\n      this.circleMarker = [];\r\n      var radius = 5; //圈半径\r\n      let centers = this.pointsList.map((item) => {\r\n        return new AMap.LngLat(item.x, item.y);\r\n      });\r\n      this.circleMarkers = [];\r\n      centers.forEach((center) => {\r\n        this.circleMarkers.push(\r\n          new AMap.CircleMarker({\r\n            center: center, //圆心\r\n            radius: radius, //半径\r\n            strokeColor: \"white\", //轮廓线颜色\r\n            strokeWeight: 2, //轮廓线宽度\r\n            strokeOpacity: 0.5, //轮廓线透明度\r\n            fillColor: \"rgba(0,0,255,1)\", //多边形填充颜色\r\n            fillOpacity: 0.5, //多边形填充透明度\r\n            zIndex: 10, //多边形覆盖物的叠加顺序\r\n            cursor: \"pointer\", //鼠标悬停时的鼠标样式\r\n          })\r\n        );\r\n      });\r\n      this.circleMarkers.forEach((circleMarker) => {\r\n        this.map.add(circleMarker);\r\n        // this.map.setFitView([circleMarker]);\r\n      });\r\n      this.compare()\r\n    },\r\n    // 导出\r\n    exportData(){\r\n      console.log(this.pointsList);\r\n      var data = ''\r\n      this.pointsList.forEach((item,index)=>{\r\n        if(index+1<this.pointsList.length){\r\n          data+=`${item.x} ${item.y}:${item.v.replaceAll(',',' ')},\\n`\r\n        }else{\r\n          data+=`${item.x} ${item.y}:${item.v.replaceAll(',',' ')}\\n`\r\n        }\r\n      })\r\n      data+='/\\n'\r\n      data+=this.allData.join(' ')\r\n      data+='\\n/剩余频率\\n'\r\n      data+=this.restData.join(' ')\r\n      let str = new Blob([data], {type: 'text/plain;charset=utf-8'});\r\n      // 注意这里要手动写上文件的后缀名\r\n      saveAs(str, `点位统计.txt`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.main {\r\n  display: flex;\r\n  width: 100%;\r\n  .right {\r\n    flex: 1;\r\n    height: 97vh;\r\n    overflow: auto;\r\n    .topBtn {\r\n      position: fixed;\r\n      top: 0;\r\n      z-index: 1;\r\n      background-color: #fff;\r\n      width: 100%;\r\n      padding-bottom: 10px;\r\n      border-bottom: 1px solid grey;\r\n    }\r\n  }\r\n  .left {\r\n    flex: 1;\r\n  }\r\n}\r\n#container {\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/test.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"left\"},[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',[_c('el-form',{attrs:{\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"当前定位经度\"}},[_c('el-input',{model:{value:(_vm.x),callback:function ($$v) {_vm.x=$$v},expression:\"x\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"当前定位纬度\"}},[_c('el-input',{model:{value:(_vm.y),callback:function ($$v) {_vm.y=$$v},expression:\"y\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"当前定位半径\"}},[_c('el-input',{model:{value:(_vm.r),callback:function ($$v) {_vm.r=$$v},expression:\"r\"}})],1)],1),_vm._v(\" \"),_c('span',[_vm._v(\"剩余可用频率：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.restData.length?_vm.restData.join(','):'-'))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"topBtn\"},[_c('input',{staticStyle:{\"display\":\"block\",\"margin-bottom\":\"10px\"},attrs:{\"id\":\"file-input\",\"type\":\"file\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleAdd()}}},[_vm._v(\"添加点位\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.exportData()}}},[_vm._v(\"导出\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"60px\"},attrs:{\"data\":_vm.pointsList}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"x\",\"label\":\"经度\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"y\",\"label\":\"维度\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"v\",\"label\":\"频率\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.v ? scope.row.v : \"-\")+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row, scope.$index)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDel(scope.row, scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"全部频率\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4},on:{\"change\":_vm.changeAllDataStr},model:{value:(_vm.allDataStr),callback:function ($$v) {_vm.allDataStr=$$v},expression:\"allDataStr\"}})],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改点位\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.pasterMap}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"经度\"}},[_c('el-input',{model:{value:(_vm.pointsList[_vm.doingIndex].x),callback:function ($$v) {_vm.$set(_vm.pointsList[_vm.doingIndex], \"x\", $$v)},expression:\"pointsList[doingIndex].x\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"纬度\"}},[_c('el-input',{model:{value:(_vm.pointsList[_vm.doingIndex].y),callback:function ($$v) {_vm.$set(_vm.pointsList[_vm.doingIndex], \"y\", $$v)},expression:\"pointsList[doingIndex].y\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"频率\"}},[_c('el-input',{model:{value:(_vm.pointsList[_vm.doingIndex].v),callback:function ($$v) {_vm.$set(_vm.pointsList[_vm.doingIndex], \"v\", $$v)},expression:\"pointsList[doingIndex].v\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fb6daa4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/test.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3fb6daa4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./test.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3fb6daa4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./test.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3fb6daa4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/test.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport test from '@/views/test.vue';\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'main',\n      component: test,\n    }\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport {saveAs} from 'file-saver';\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}